-- ============================================
-- 美食分享系统测试数据脚本
-- 使用前请先执行 init.sql 创建数据库和表
-- ============================================

USE `food_sharing`;

-- ============================================
-- 1. 插入用户数据
-- ============================================
-- 注意：密码使用明文存储，不加密
INSERT INTO `users` (`username`, `email`, `password`, `role`, `avatar_url`, `points`, `level`, `enabled`, `created_time`) VALUES
-- 管理员用户
('admin', 'admin@foodsharing.com', 'password', 'ROLE_ADMIN', 'https://via.placeholder.com/150', 1000, 10, 1, '2024-01-01 10:00:00'),
-- 普通用户
('zhangsan', 'zhangsan@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 150, 3, 1, '2024-01-15 09:30:00'),
('lisi', 'lisi@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 80, 2, 1, '2024-01-20 14:20:00'),
('wangwu', 'wangwu@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 200, 4, 1, '2024-02-01 11:15:00'),
('zhaoliu', 'zhaoliu@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 50, 1, 1, '2024-02-10 16:45:00'),
('sunqi', 'sunqi@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 120, 2, 1, '2024-02-15 10:30:00'),
-- 商家用户
('merchant1', 'merchant1@example.com', 'password', 'ROLE_MERCHANT', 'https://via.placeholder.com/150', 300, 5, 1, '2024-01-10 08:00:00'),
('merchant2', 'merchant2@example.com', 'password', 'ROLE_MERCHANT', 'https://via.placeholder.com/150', 250, 4, 1, '2024-01-25 13:20:00'),
-- 禁用用户（用于测试）
('disabled_user', 'disabled@example.com', 'password', 'ROLE_USER', 'https://via.placeholder.com/150', 0, 1, 0, '2024-01-05 12:00:00');

-- 注意：所有密码都是明文 "password"，用于测试

-- ============================================
-- 2. 插入分类数据
-- ============================================
INSERT INTO `categories` (`name`) VALUES
('川菜'),
('粤菜'),
('湘菜'),
('鲁菜'),
('苏菜'),
('浙菜'),
('徽菜'),
('闽菜'),
('日料'),
('韩料'),
('西餐'),
('甜品'),
('饮品'),
('小吃'),
('火锅'),
('烧烤'),
('家常菜'),
('素食'),
('海鲜'),
('面食');

-- ============================================
-- 3. 插入标签数据
-- ============================================
INSERT INTO `tags` (`name`) VALUES
('辣'),
('甜'),
('酸'),
('咸'),
('香'),
('鲜'),
('清淡'),
('重口味'),
('下饭菜'),
('下酒菜'),
('快手菜'),
('硬菜'),
('家常'),
('创意'),
('传统'),
('网红'),
('高颜值'),
('低卡'),
('营养'),
('简单');

-- ============================================
-- 4. 插入帖子数据
-- ============================================
INSERT INTO `posts` (`title`, `content`, `image_url`, `category_id`, `author_id`, `lat`, `lng`, `address`, `view_count`, `status`, `created_at`) VALUES
-- 已审核通过的帖子
('麻辣香锅，超级下饭！', '今天做了麻辣香锅，配菜丰富，味道超级棒！有牛肉、虾、藕片、土豆、金针菇等，麻辣鲜香，配米饭绝了！', 'https://via.placeholder.com/800x600', 1, 2, 39.9042, 116.4074, '北京市朝阳区', 256, 'APPROVED', '2024-02-20 12:00:00'),
('自制提拉米苏，零失败！', '第一次做提拉米苏就成功了！口感细腻，咖啡和可可的香味完美融合，做法也很简单，推荐大家试试！', 'https://via.placeholder.com/800x600', 12, 3, 39.9042, 116.4074, '北京市海淀区', 189, 'APPROVED', '2024-02-21 15:30:00'),
('日式拉面，汤底浓郁', '在家复刻日式拉面，汤底用猪骨熬制了3小时，非常浓郁。配上溏心蛋、叉烧、海苔，味道不输店里！', 'https://via.placeholder.com/800x600', 9, 4, 39.9042, 116.4074, '北京市西城区', 312, 'APPROVED', '2024-02-22 18:20:00'),
('韩式烤肉，家庭版', '周末在家做韩式烤肉，五花肉腌制后烤制，配上生菜、蒜片、辣椒，包着吃太香了！', 'https://via.placeholder.com/800x600', 10, 5, 39.9042, 116.4074, '北京市东城区', 145, 'APPROVED', '2024-02-23 19:00:00'),
('糖醋排骨，酸甜可口', '经典糖醋排骨，酸甜适中，外酥里嫩。做法简单，新手也能成功！', 'https://via.placeholder.com/800x600', 17, 2, 39.9042, 116.4074, '北京市朝阳区', 278, 'APPROVED', '2024-02-24 11:30:00'),
('芒果班戟，夏日甜品', '炎炎夏日，来一份芒果班戟！奶油香甜，芒果新鲜，口感层次丰富，太满足了！', 'https://via.placeholder.com/800x600', 12, 6, 39.9042, 116.4074, '北京市丰台区', 167, 'APPROVED', '2024-02-25 14:15:00'),
('蒜蓉粉丝蒸扇贝', '海鲜大餐！扇贝新鲜，蒜蓉香味浓郁，粉丝吸收了汤汁，每一口都是享受！', 'https://via.placeholder.com/800x600', 19, 3, 39.9042, 116.4074, '北京市海淀区', 234, 'APPROVED', '2024-02-26 17:45:00'),
('红烧肉，肥而不腻', '经典红烧肉，肥而不腻，入口即化。配米饭能吃三碗！', 'https://via.placeholder.com/800x600', 17, 4, 39.9042, 116.4074, '北京市西城区', 301, 'APPROVED', '2024-02-27 12:20:00'),
-- 待审核的帖子
('新尝试的创意料理', '今天尝试了一道创意料理，将传统中餐和西餐结合，味道很特别！', 'https://via.placeholder.com/800x600', 14, 5, 39.9042, 116.4074, '北京市东城区', 0, 'PENDING', '2024-02-28 10:00:00'),
('自制奶茶，健康版', '自己做的奶茶，用纯牛奶和茶叶，不加糖精，健康又美味！', 'https://via.placeholder.com/800x600', 13, 6, 39.9042, 116.4074, '北京市丰台区', 0, 'PENDING', '2024-02-28 11:30:00'),
-- 被拒绝的帖子
('测试帖子', '这是一个测试内容', 'https://via.placeholder.com/800x600', 1, 2, 39.9042, 116.4074, '北京市朝阳区', 0, 'REJECTED', '2024-02-15 09:00:00');

-- ============================================
-- 5. 插入帖子标签关联数据
-- ============================================
INSERT INTO `post_tags` (`post_id`, `tag_id`) VALUES
(1, 1), (1, 5), (1, 9),  -- 麻辣香锅：辣、香、下饭菜
(2, 2), (2, 11), (2, 17), -- 提拉米苏：甜、快手菜、高颜值
(3, 5), (3, 6), (3, 11), -- 日式拉面：香、鲜、快手菜
(4, 1), (4, 5), (4, 9),  -- 韩式烤肉：辣、香、下饭菜
(5, 2), (5, 3), (5, 13), -- 糖醋排骨：甜、酸、家常
(6, 2), (6, 17), (6, 18), -- 芒果班戟：甜、高颜值、低卡
(7, 5), (7, 6), (7, 19), -- 蒜蓉粉丝蒸扇贝：香、鲜、营养
(8, 5), (8, 13), (8, 9); -- 红烧肉：香、家常、下饭菜

-- ============================================
-- 6. 插入评论数据
-- ============================================
INSERT INTO `comments` (`user_id`, `post_id`, `content`, `parent_id`, `created_at`) VALUES
-- 帖子1的评论
(3, 1, '看起来好香啊！能分享一下做法吗？', NULL, '2024-02-20 13:00:00'),
(4, 1, '我也超爱麻辣香锅！', NULL, '2024-02-20 14:30:00'),
(2, 1, '做法很简单，先把配菜焯水，然后炒香底料，最后把所有食材一起炒就可以了', 1, '2024-02-20 15:00:00'),
-- 帖子2的评论
(2, 2, '提拉米苏我也做过，确实不难！', NULL, '2024-02-21 16:00:00'),
(5, 2, '看起来好诱人，收藏了！', NULL, '2024-02-21 17:20:00'),
-- 帖子3的评论
(2, 3, '汤底熬制3小时，太有耐心了！', NULL, '2024-02-22 19:00:00'),
(6, 3, '溏心蛋做得真好！', NULL, '2024-02-22 20:15:00'),
-- 帖子4的评论
(3, 4, '韩式烤肉配生菜包着吃最香！', NULL, '2024-02-23 20:00:00'),
-- 帖子5的评论
(5, 5, '糖醋排骨我的最爱！', NULL, '2024-02-24 12:00:00'),
(6, 5, '外酥里嫩，做得真好！', NULL, '2024-02-24 13:30:00');

-- ============================================
-- 7. 插入点赞数据
-- ============================================
INSERT INTO `likes` (`user_id`, `post_id`, `created_at`) VALUES
(3, 1, '2024-02-20 13:30:00'),
(4, 1, '2024-02-20 14:00:00'),
(5, 1, '2024-02-20 15:30:00'),
(2, 2, '2024-02-21 16:30:00'),
(4, 2, '2024-02-21 17:00:00'),
(5, 2, '2024-02-21 18:00:00'),
(6, 2, '2024-02-21 19:00:00'),
(2, 3, '2024-02-22 19:30:00'),
(3, 3, '2024-02-22 20:00:00'),
(5, 3, '2024-02-22 21:00:00'),
(2, 4, '2024-02-23 20:30:00'),
(3, 4, '2024-02-23 21:00:00'),
(2, 5, '2024-02-24 12:30:00'),
(3, 5, '2024-02-24 13:00:00'),
(4, 5, '2024-02-24 14:00:00'),
(2, 6, '2024-02-25 15:00:00'),
(3, 6, '2024-02-25 16:00:00'),
(2, 7, '2024-02-26 18:00:00'),
(4, 7, '2024-02-26 19:00:00'),
(2, 8, '2024-02-27 13:00:00'),
(3, 8, '2024-02-27 14:00:00'),
(5, 8, '2024-02-27 15:00:00'),
(6, 8, '2024-02-27 16:00:00');

-- ============================================
-- 8. 插入收藏数据
-- ============================================
INSERT INTO `favorites` (`user_id`, `post_id`, `created_at`) VALUES
(3, 1, '2024-02-20 14:00:00'),
(4, 1, '2024-02-20 15:00:00'),
(2, 2, '2024-02-21 17:00:00'),
(5, 2, '2024-02-21 18:00:00'),
(2, 3, '2024-02-22 20:00:00'),
(3, 3, '2024-02-22 21:00:00'),
(2, 5, '2024-02-24 13:00:00'),
(3, 5, '2024-02-24 14:00:00'),
(2, 7, '2024-02-26 19:00:00'),
(2, 8, '2024-02-27 14:00:00');

-- ============================================
-- 9. 插入关注数据
-- ============================================
INSERT INTO `follows` (`follower_id`, `following_id`, `created_at`) VALUES
(3, 2, '2024-02-20 12:00:00'),
(4, 2, '2024-02-20 13:00:00'),
(5, 2, '2024-02-21 14:00:00'),
(2, 3, '2024-02-21 15:00:00'),
(4, 3, '2024-02-21 16:00:00'),
(2, 4, '2024-02-22 17:00:00'),
(3, 4, '2024-02-22 18:00:00'),
(2, 5, '2024-02-23 19:00:00'),
(3, 6, '2024-02-24 20:00:00');

-- ============================================
-- 10. 插入商家数据
-- ============================================
INSERT INTO `merchants` (`user_id`, `name`, `description`, `logo`, `cover_image`, `address`, `latitude`, `longitude`, `phone`, `business_hours`, `avg_price`, `cuisine_type`, `facilities`, `rating`, `review_count`, `status`, `is_verified`, `created_at`, `updated_at`) VALUES
(7, '川味轩', '正宗川菜餐厅，麻辣鲜香，回味无穷。主打水煮鱼、麻婆豆腐、宫保鸡丁等经典川菜。', 'https://via.placeholder.com/200', 'https://via.placeholder.com/1200x400', '北京市朝阳区建国路88号', 39.9042, 116.4074, '010-12345678', '10:00-22:00', 80.00, '川菜', 'WiFi,停车位,包间', 4.5, 128, 1, 1, '2024-01-10 08:00:00', '2024-02-28 10:00:00'),
(8, '甜品时光', '温馨的甜品店，提供各种精致甜品和饮品。招牌提拉米苏、芒果班戟、手工奶茶等。', 'https://via.placeholder.com/200', 'https://via.placeholder.com/1200x400', '北京市海淀区中关村大街1号', 39.9042, 116.4074, '010-87654321', '09:00-21:00', 45.00, '甜品', 'WiFi,充电插座', 4.8, 256, 1, 1, '2024-01-25 13:20:00', '2024-02-28 10:00:00');

-- ============================================
-- 11. 插入系统配置数据
-- ============================================
INSERT INTO `system_configs` (`config_key`, `config_value`, `description`, `created_at`, `updated_at`) VALUES
('site_name', '美食分享系统', '网站名称', NOW(), NOW()),
('upload_max_size', '5242880', '上传文件最大大小(字节)', NOW(), NOW()),
('image_formats', 'jpg,jpeg,png,gif,webp', '支持的图片格式', NOW(), NOW()),
('video_formats', 'mp4,avi,mov', '支持的视频格式', NOW(), NOW()),
('default_avatar', '/images/default-avatar.png', '默认头像', NOW(), NOW()),
('points_per_post', '10', '发帖获得积分', NOW(), NOW()),
('points_per_like', '1', '点赞获得积分', NOW(), NOW()),
('points_per_comment', '2', '评论获得积分', NOW(), NOW()),
('max_upload_images', '9', '单次最多上传图片数', NOW(), NOW()),
('post_review_enabled', 'true', '是否启用内容审核', NOW(), NOW());

-- ============================================
-- 12. 插入系统日志数据（示例）
-- ============================================
INSERT INTO `system_logs` (`level`, `module`, `action`, `message`, `user_id`, `username`, `ip_address`, `created_at`) VALUES
('INFO', 'USER', 'LOGIN', '用户登录成功', 2, 'zhangsan', '192.168.1.100', '2024-02-20 12:00:00'),
('INFO', 'POST', 'CREATE', '创建新帖子：麻辣香锅，超级下饭！', 2, 'zhangsan', '192.168.1.100', '2024-02-20 12:00:00'),
('INFO', 'POST', 'APPROVE', '审核通过帖子：麻辣香锅，超级下饭！', 1, 'admin', '192.168.1.1', '2024-02-20 12:30:00'),
('INFO', 'USER', 'LOGIN', '用户登录成功', 3, 'lisi', '192.168.1.101', '2024-02-21 15:00:00'),
('INFO', 'POST', 'CREATE', '创建新帖子：自制提拉米苏，零失败！', 3, 'lisi', '192.168.1.101', '2024-02-21 15:30:00'),
('INFO', 'POST', 'APPROVE', '审核通过帖子：自制提拉米苏，零失败！', 1, 'admin', '192.168.1.1', '2024-02-21 16:00:00'),
('WARN', 'POST', 'REJECT', '拒绝帖子：测试帖子', 1, 'admin', '192.168.1.1', '2024-02-15 10:00:00'),
('INFO', 'USER', 'UPDATE', '更新用户信息', 2, 'zhangsan', '192.168.1.100', '2024-02-22 10:00:00'),
('INFO', 'MERCHANT', 'VERIFY', '认证商家：川味轩', 1, 'admin', '192.168.1.1', '2024-01-12 09:00:00'),
('INFO', 'MERCHANT', 'VERIFY', '认证商家：甜品时光', 1, 'admin', '192.168.1.1', '2024-01-26 10:00:00');

-- ============================================
-- 数据插入完成
-- ============================================
-- 提示：所有密码都是明文 "password"（不加密）
-- 测试账号：
--   管理员：admin / password
--   普通用户：zhangsan / password
--   商家：merchant1 / password

